package com.turnedslayer.darkcraft.blocks;import com.turnedslayer.darkcraft.DarkCraft;import com.turnedslayer.darkcraft.help.Textures;import cpw.mods.fml.common.registry.GameRegistry;import cpw.mods.fml.relauncher.Side;import cpw.mods.fml.relauncher.SideOnly;import net.minecraft.block.BlockContainer;import net.minecraft.block.material.Material;import net.minecraft.client.renderer.texture.IIconRegister;import net.minecraft.entity.EntityLivingBase;import net.minecraft.entity.player.EntityPlayer;import net.minecraft.item.ItemStack;import net.minecraft.tileentity.TileEntity;import net.minecraft.util.IIcon;import net.minecraft.util.MathHelper;import net.minecraft.world.World;import net.minecraftforge.common.util.ForgeDirection;public class blockDarkBasicFurnace extends BlockContainer{    @SideOnly(Side.CLIENT)    public IIcon[] icons;    public blockDarkBasicFurnace()    {        super(Material.iron);        this.setBlockName("blockDarkBasicFurnace");        this.setCreativeTab(DarkCraft.DarkCraftTab);        GameRegistry.registerBlock(this, "blockDarkBasicFurnace");    }    @Override    public boolean hasTileEntity(int meta)    {        return true;    }    @Override    public TileEntity createNewTileEntity(World var1, int var2)    {        return new TileDarkBasicFurnace();    }    @Override    @SideOnly(Side.CLIENT)    public void registerBlockIcons(IIconRegister iconRegister)    {        this.blockIcon = iconRegister.registerIcon(String.valueOf(Textures.BasicFurnace));        icons = new IIcon[4];        for(int count = 0; count < icons.length; count++)        {            String name;            switch(count)            {                case 0: name = "0"; break;                case 1: name = "1"; break;                case 2: name = "2"; break;                case 3: name = "3"; break;                default: name = "0";            }            icons[count] = iconRegister.registerIcon(Textures.BasicFurnace + name);        }    }    @Override    @SideOnly(Side.CLIENT)    public IIcon getIcon(int side, int meta)    {        //front icon        if(side == meta){ return icons[0]; }        //top icon        else if (side == ForgeDirection.UP.ordinal()){ return icons[1]; }        //bottom icon        else if (side == ForgeDirection.DOWN.ordinal()){ return icons[2]; }        //sides icon        else { return icons[3]; }    }    @Override    public void onBlockPlacedBy(World world, int x, int y, int z, EntityLivingBase entityLiving, ItemStack itemStack)    {        world.scheduleBlockUpdate(x, y, z, this, 1);        int direction = 0;        int facing = MathHelper.floor_double(entityLiving.rotationYaw * 4.0F / 360.0F + 0.5D) & 3;        if (facing == 0)        {            direction = ForgeDirection.NORTH.ordinal();        }        else if (facing == 1)        {            direction = ForgeDirection.EAST.ordinal();        }        else if (facing == 2)        {            direction = ForgeDirection.SOUTH.ordinal();        }        else if (facing == 3)        {            direction = ForgeDirection.WEST.ordinal();        }        world.setBlockMetadataWithNotify(x, y, z, direction, 0);    }    @Override    public boolean onBlockActivated(World world, int x, int y, int z, EntityPlayer entityPlayer, int par1, float par2, float par3, float par4)    {        entityPlayer.openGui(DarkCraft.instance, 0, world, x ,y, z);        return true;    }}